<!DOCTYPE html>
<html lang="zh-cn">
        <head>
      <meta charset="utf-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
      <title>Bash中的变量 - JavaChen Blog</title>
      <meta name="author" content="JavaChen"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
      <link rel="canonical" href="http://blog.javachen.com/2015/07/07/bash-variable.html" />

      <link rel="stylesheet" href="/static/contrib/bootstrap/css/bootstrap.min.css" media="all" />
      <link rel="stylesheet" href="/static/css/style.css" media="all" />
      <link rel="stylesheet" href="/static/css/pygments.css" media="all" />
      <link rel="stylesheet" href="/static/contrib/font-awesome/css/font-awesome.min.css" media="all" />
      <link rel="stylesheet" type="text/css" href="/static/contrib/showup/showup.css" />
        
        <!-- fav and touch icons  -->
        <!-- Update these with your own images
        <link rel="shortcut icon" href="images/favicon.ico">
        <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
        <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
        -->

      <meta name="renderer" content="webkit|ie-stand">
      <meta name="baidu-site-verification" content="3HAhaWRiyR" />
      <meta name="360-site-verification" content="9b7a87a1d52051c96644f0a9b8b79898" />
      <meta name="sogou_site_verification" content="ofwXWFdthV"/>
      <meta property="wb:webmaster" content="b6081b2b8ab84c60" />
    </head>

    <body>
      <!--[if lte IE 9]>
<div class="alert alert-warning">
  <p>Your Internet Explorer is not supported. Please upgrade your Internet Explorer to version 9+, or use latest <a href="http://www.google.com/chrome/" target="_blank" class="alert-link">Google chrome</a>、<a href="http://www.mozilla.org/firefox/" target="_blank" class="alert-link">Mozilla Firefox</a>.</p>
  <p>If you are using IE 9 or later, make sure you <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view#ie=ie-8" target="_blank" class="alert-link">turn off "Compatibility view"</a>.</p>
</div>
<![endif]-->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">JavaChen Blog</a>
        </div>
        <div class="navbar-collapse collapse">
            <form id="search-form" class="form-group navbar-form navbar-right" role="search">
                  <div class="form-group">
                    <input type="text" name="q" value=""  id="query" class="form-control" placeholder="搜索" required autocomplete="off" ></input>
                    <input type="submit" class="btn btn-default" value=" Go" ></input>
                  </div>
              </form>
            <ul class="nav navbar-nav">
              <li><a href="/archive.html" title="Archive"><span class='fa fa-archive fa-2x'></span></a></li>
              <li><a href="/categories.html" title="Categories"><span class='fa fa-navicon fa-2x'></span></a></li>
              <li><a href="/tags.html" title="Tags"><span class='fa fa-tags fa-2x'></span></a></li>
              <li><a href="/about.html" title="About"><span class='fa fa-user fa-2x'></span></a></li>
              
              <li><a href="https://github.com/javachen" target="_blank" title="Github"><span class='fa fa-github fa-2x'></span></a></li>
              
              
              
              
              
              <li><a href="http://weibo.com/chenzhijun" target="_blank" title="Weibo"><span class="fa fa-weibo fa-2x"></span></a></li>
              
              <li><a href="/rss.xml" target="_blank" title="RSS"><span class='fa fa-rss fa-2x'></span></a></li>
            </ul>
        </div>

        </div><!--/.nav-collapse -->
      </div>
</div>

      <div id="wrap">
          <div class="container">
                 <div id="content">
          <ul class="pager hidden-print">
               
                <li class="previous"><a href="/2015/07/06/bash-special-characters.html" title="Bash中的特殊字符"><i class="fa fa-angle-double-left"></i>&nbsp;Bash中的特殊字符</a></li>
                
                
                <li class="next"><a href="/2015/07/08/bash-if-else.html" title="Bash条件判断">Bash条件判断&nbsp;<i class="fa fa-angle-double-right"></i></a></li>
                
          </ul>

           <div id="post" class="clearfix">
              <div id="post-title" class="page-header text-center">
                  <h1> Bash中的变量  </h1>
              </div>
              <p class="text-muted clearfix">
                  <span class="pull-right">2015.07.07 | <a href="#comments">Comments</a></span>
              </p>
              <div id="qr" class="qrcode visible-lg"></div>

              <div id="post-text">
                    <p>变量是脚本编程中进行数据表现的一种方法。说白了，变量不过是计算机为了保留数据项，而在内存中分配的一个位置或一组位置的标识或名字。变量既可以出现在算术操作中，也可以出现在字符串分析过程中。</p>

<h1 id="section">变量赋值</h1>

<p>变量使用<code class="highlighter-rouge">=</code>来实现赋值操作，前后都不能有空白。例如：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span>314
<span class="nb">echo</span> <span class="s2">"The value of </span><span class="se">\"</span><span class="s2">a</span><span class="se">\"</span><span class="s2"> is </span><span class="nv">$a</span><span class="s2">."</span>
</code></pre>
</div>

<p>也可以使用let来赋值：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">let </span><span class="nv">a</span><span class="o">=</span>16+5
<span class="nb">echo</span> <span class="s2">"The value of </span><span class="se">\"</span><span class="s2">a</span><span class="se">\"</span><span class="s2"> is now </span><span class="nv">$a</span><span class="s2">."</span>
</code></pre>
</div>

<p>使用<code class="highlighter-rouge">read</code>命令进行赋值：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">echo</span> -n <span class="s2">"Enter </span><span class="se">\"</span><span class="s2">a</span><span class="se">\"</span><span class="s2"> "</span>
<span class="nb">read </span>a
<span class="nb">echo</span> <span class="s2">"The value of </span><span class="se">\"</span><span class="s2">a</span><span class="se">\"</span><span class="s2"> is now </span><span class="nv">$a</span><span class="s2">."</span>
</code></pre>
</div>

<p>下面是复杂一点的赋值：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span>23            
<span class="nb">echo</span> <span class="nv">$a</span>
<span class="nv">b</span><span class="o">=</span><span class="nv">$a</span>
<span class="nb">echo</span> <span class="nv">$b</span>
</code></pre>
</div>

<p>我们也可以使用<code class="highlighter-rouge">命令替换</code>来赋值：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo </span>Hello!<span class="sb">`</span>   <span class="c"># 把'echo'命令的结果传给变量'a'</span>
<span class="nb">echo</span> <span class="nv">$a</span>

<span class="nv">a</span><span class="o">=</span><span class="sb">`</span>ls -l<span class="sb">`</span>         <span class="c"># 把'ls -l'的结果赋值给'a'</span>
<span class="nb">echo</span> <span class="nv">$a</span>        <span class="c"># 然而, 如果没有引号的话将会删除ls结果中多余的tab和换行符.</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$a</span><span class="s2">"</span>      <span class="c"># 如果加上引号的话, 那么就会保留ls结果中的空白符.</span>
</code></pre>
</div>

<blockquote>
  <p>注意：
上面的代码有无引号，在linux系统中，运行结果是不一样的；在mac系统上，结果是一致的。</p>
</blockquote>

<p>也可以使用<code class="highlighter-rouge">$(...)</code>机制来进行变量赋值，这其实还是<code class="highlighter-rouge">命令替换</code>的一种形式。例如：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># From /etc/rc.d/rc.local</span>
<span class="nv">R</span><span class="o">=</span><span class="k">$(</span>cat /etc/redhat-release<span class="k">)</span>
<span class="nv">arch</span><span class="o">=</span><span class="k">$(</span>uname -m<span class="k">)</span>
</code></pre>
</div>

<h1 id="section-1">变量的类型</h1>

<p>不像其他程序语言一样，Bash并不对变量区分”类型”。本质上，Bash变量都是字符串。但是依赖于具体的上下文，Bash也允许比较操作和整数操作。其中的关键因素就是，变量中的值是否只有数字。</p>

<p>整型的变量：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span>2334                   <span class="c"># 整型.</span>
<span class="nb">let</span> <span class="s2">"a += 1"</span>
<span class="nb">echo</span> <span class="s2">"a = </span><span class="nv">$a</span><span class="s2"> "</span>        <span class="c"># a = 2335</span>
</code></pre>
</div>

<p>把变量编程字符串：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">b</span><span class="o">=</span><span class="k">${</span><span class="nv">a</span><span class="p">/23/BB</span><span class="k">}</span>     <span class="c"># 将"23"替换成"BB"</span>
<span class="nb">echo</span> <span class="s2">"b = </span><span class="nv">$b</span><span class="s2">"</span>     <span class="c"># b = BB35</span>
</code></pre>
</div>

<p>对字符串类型变量计算加法：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">let</span> <span class="s2">"b += 1"</span>             <span class="c"># BB35 + 1 =</span>
<span class="nb">echo</span> <span class="s2">"b = </span><span class="nv">$b</span><span class="s2">"</span>        <span class="c"># b = 1</span>
</code></pre>
</div>

<p>将上面过程反过来操作：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">c</span><span class="o">=</span>BB34
<span class="nb">echo</span> <span class="s2">"c = </span><span class="nv">$c</span><span class="s2">"</span>               <span class="c"># c = BB34</span>
<span class="nv">d</span><span class="o">=</span><span class="k">${</span><span class="nv">c</span><span class="p">/BB/23</span><span class="k">}</span>               <span class="c"># 将"BB"替换成"23".</span>

<span class="c"># 这使得变量$d变为一个整形.</span>
<span class="nb">echo</span> <span class="s2">"d = </span><span class="nv">$d</span><span class="s2">"</span>               <span class="c"># d = 2334</span>
<span class="nb">let</span> <span class="s2">"d += 1"</span>                <span class="c"># 2334 + 1 =</span>
<span class="nb">echo</span> <span class="s2">"d = </span><span class="nv">$d</span><span class="s2">"</span>               <span class="c"># d = 2335</span>
</code></pre>
</div>

<p>null变量可以用在算术操作中，下面例子将null变量转换成一个整型变量：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">e</span><span class="o">=</span><span class="s2">""</span>
<span class="nb">echo</span> <span class="s2">"e = </span><span class="nv">$e</span><span class="s2">"</span>            <span class="c"># e =</span>
<span class="nb">let</span> <span class="s2">"e += 1"</span>            <span class="c"># 算术操作允许一个null变量?</span>
<span class="nb">echo</span> <span class="s2">"e = </span><span class="nv">$e</span><span class="s2">"</span>            <span class="c"># e = 1</span>
</code></pre>
</div>

<p>对于没有声明的变量，也可以转换成一个整型变量：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"f = </span><span class="nv">$f</span><span class="s2">"</span>               <span class="c"># f =</span>
<span class="nb">let</span> <span class="s2">"f += 1"</span>                <span class="c"># 算术操作能通过么?</span>
<span class="nb">echo</span> <span class="s2">"f = </span><span class="nv">$f</span><span class="s2">"</span>               <span class="c"># f = 1</span>
</code></pre>
</div>

<p>不区分变量的类型既是幸运的事情也是悲惨的事情。它允许你在编写脚本的时候更加的灵活(但是也足够把你搞晕!)，并且可以让你能够更容易的编写代码。然而，这也很容易产生错误，并且让你养成糟糕的编程习惯。</p>

<p>另外，变量还分局部变量和环境变量。<code class="highlighter-rouge">局部变量</code>只在代码块或者函数中可见；<code class="highlighter-rouge">环境变量</code>将影响用户接口和shell行为。</p>

<p>在通常情况下，每个进程都有自己的”环境”，这个环境是由一组变量组成的，这些变量中存有进程可能需要引用的信息。在这种情况下，shell与一个一般的进程没什么区别。</p>

<p>但是，分配给环境变量的空间是有限的。创建太多环境变量，或者给一个环境变量分配太多的空间都会引起错误。</p>

<p>如果一个脚本要设置一个环境变量，那么需要将这些变量<code class="highlighter-rouge">export</code>出来，也就是需要通知到脚本本地的环境。但是，子进程是不能够<code class="highlighter-rouge">export</code>变量来影响产生自己的父进程的环境的。</p>

<h1 id="section-2">位置参数</h1>

<p>变量是有位置参数的，从命令行传递到脚本的参数: $0, $1, $2, $3 . . .</p>

<p><code class="highlighter-rouge">$0</code>就是脚本文件自身的名字，<code class="highlighter-rouge">$1</code>是第一个参数，<code class="highlighter-rouge">$2</code>是第二个参数，<code class="highlighter-rouge">$3</code>是第三个参数，然后是第四个。<code class="highlighter-rouge">$9</code>之后的位置参数就必须用大括号括起来了，比如：<code class="highlighter-rouge">${10}, ${11}, ${12}</code>。</p>

<p>两个比较特殊的变量<code class="highlighter-rouge">$*</code>和<code class="highlighter-rouge">$@</code>表示所有的位置参数。</p>

<p><code class="highlighter-rouge"><span class="p">{}</span></code>标记法提供了一种提取从命令行传递到脚本的最后一个位置参数的简单办法，但是这种方法同时还需要使用<code class="highlighter-rouge">间接引用</code>。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">args=$#           </span><span class="c"># 位置参数的个数.</span>
<span class="nv">lastarg</span><span class="o">=</span><span class="k">${</span><span class="p">!args</span><span class="k">}</span>
<span class="c"># 或:  lastarg=${!#}</span>
<span class="c"># 注意，不能直接使用 lastarg=${!$#} ，这会产生错误</span>
</code></pre>
</div>

<p>如果脚本需要一个命令行参数，而在调用的时候，这个参数没被提供，那么这就可能造成给这个参数赋一个null变量，通常情况下，这都会产生问题。一种解决这个问题的办法就是使用添加额外字符的方法，在使用这个位置参数的变量和位置参数本身的后边全部添加同样的额外字符。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">variable1_</span><span class="o">=</span><span class="nv">$1_</span>  <span class="c"># 而不是 variable1=$1</span>
<span class="c"># 这将阻止报错, 即使在调用时没提供这个位置参数</span>

<span class="nv">critical_argument01</span><span class="o">=</span><span class="nv">$variable1_</span>

<span class="c">#使用正则表达式替换_为空，得到输入的变量</span>
<span class="nv">variable1</span><span class="o">=</span><span class="k">${</span><span class="nv">variable1_</span><span class="p">/_/</span><span class="k">}</span>
</code></pre>
</div>

<p>另外，一种方法是判断是否存在：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="o">[</span> -z <span class="nv">$1</span> <span class="o">]</span>
<span class="k">then
    </span><span class="nb">exit</span> <span class="nv">$E_MISSING_POS_PARAM</span>
<span class="k">fi</span>
</code></pre>
</div>

<p>更好的方法是使用参数替换：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">DefaultVal</span><span class="o">=</span>xxxx
<span class="k">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">$DefaultVal</span><span class="k">}</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">shift</code>命令会重新分配位置参数，其实就是把所有的位置参数都向左移动一个位置。这样的话，原来的<code class="highlighter-rouge">$1</code>就消失了，但是<code class="highlighter-rouge">$0</code>(脚本名)是不会改变的。如果传递了大量的位置参数到脚本中，那么<code class="highlighter-rouge">shift</code>命令允许你访问的位置参数的数量超过10个，当然<code class="highlighter-rouge"><span class="p">{}</span></code>标记法也提供了这样的功能。</p>

<p>下面是使用shift命令的例子：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># 使用'shift'来逐步存取所有的位置参数. </span>

<span class="c">#  给脚本命个名，比如shft，然后给脚本传递一些位置参数, 比如: </span>
<span class="c">#          ./shft a b c def 23 skidoo</span>

<span class="k">until</span> <span class="o">[</span> -z <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span>  <span class="c"># 直到所有的位置参数都被存取完...</span>
<span class="k">do
    </span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$1</span><span class="s2"> "</span>
    <span class="nb">shift
</span><span class="k">done
 
</span><span class="nb">echo</span>                <span class="c"># 额外的换行.</span>
 
<span class="nb">exit </span>0
</code></pre>
</div>

<p>当然，shift命令也可以用在函数当中。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>multiply <span class="o">()</span>                     <span class="c"># 将乘数作为参数传递进来. </span>
<span class="o">{</span>                                     <span class="c"># 可以接受多个参数. </span>
 
<span class="nb">local </span><span class="nv">product</span><span class="o">=</span>1

<span class="k">until</span> <span class="o">[</span> -z <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span>               <span class="c"># 直到处理完所有的参数...</span>
<span class="k">do
    </span><span class="nb">let</span> <span class="s2">"product *= </span><span class="nv">$1</span><span class="s2">"</span>
    <span class="nb">shift
</span><span class="k">done

</span><span class="nb">echo</span> <span class="nv">$product</span>               <span class="c">#  不会echo到stdout</span>
<span class="o">}</span>
</code></pre>
</div>

<h1 id="section-3">变量替换</h1>

<p>变量的名字就是变量保存值的地方，引用变量的值就叫做变量替换。</p>

<p>如果variable1是一个变量的名字，那么$variable1就是引用这变量的值，即这边变量所包含的数据。</p>

<p>没有<code class="highlighter-rouge">$</code>前缀的时候，变量可能存在如下几种情况：</p>

<ul>
  <li>变量被声明或被赋值</li>
  <li>变量被unset</li>
  <li>变量被export</li>
  <li>变量代表一种信号</li>
</ul>

<p>变量赋值可以使用<code class="highlighter-rouge">=</code>，也可以在<code class="highlighter-rouge">read</code>命令中或者循环头进行赋值，例如<code class="highlighter-rouge">for var2 in 1 2 3</code>。</p>

<p>注意，<code class="highlighter-rouge">$variable</code>事实上只是<code class="highlighter-rouge">${variable}</code>的简写形式。在某些上下文中<code class="highlighter-rouge">$variable</code>可能会引起错误，这时候你就需要用<code class="highlighter-rouge">${variable}</code>了。</p>

<p>被一对双引号括起来的变量替换是不会被禁止的，所以双引号被称为部分引用，有时候又被称为”弱引用”。但是，如果使用单引号的话，那么变量替换就会被禁止了，变量名只会被解释成字面的意思，不会发生变量替换，所以单引号被称为全引用，有时候也被称为”强引用”。</p>

<p>变量赋值和替换，举例如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span>375
<span class="nv">hello</span><span class="o">=</span><span class="nv">$a</span>

<span class="nb">echo </span>hello    <span class="c"># 没有变量引用，只是个hello字符串</span>

<span class="nb">echo</span> <span class="nv">$hello</span>         <span class="c"># 375</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">hello</span><span class="k">}</span>      <span class="c"># 375</span>

<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$hello</span><span class="s2">"</span>       <span class="c"># 375</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">hello</span><span class="k">}</span><span class="s2">"</span>     <span class="c"># 375</span>

<span class="c"># 全引用的作用将会导致"$"被解释为单独的字符，而不是变量前缀</span>
<span class="nb">echo</span> <span class="s1">'$hello'</span>          <span class="c"># $hello</span>
</code></pre>
</div>

<p><strong>引用一个变量将保留其中的空白，但如果是变量替换，就不会保留了</strong>。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">hello</span><span class="o">=</span><span class="s2">"A B  C   D"</span>
<span class="nb">echo</span> <span class="nv">$hello</span>                  <span class="c"># A B C D</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$hello</span><span class="s2">"</span>               <span class="c"># A B  C   D</span>
</code></pre>
</div>

<p>一个未初始化的变量是没有值的，但是在做算术操作的时候，这个未初始化的变量看起来值为0。这是一个未文档化(并且可能不具可移植性)的行为。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$uninitialized</span><span class="s2">"</span>                <span class="c"># (blank line)</span>
<span class="nb">let</span> <span class="s2">"uninitialized += 5"</span>                <span class="c"># Add 5 to it.</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$uninitialized</span><span class="s2">"</span>                <span class="c"># 5</span>
</code></pre>
</div>

<h1 id="section-4">变量引用</h1>

<p>在一个双引号中通过直接使用变量名的方法来引用变量，一般情况下都是没问题的。这么做将阻止所有在引号中的特殊字符被重新解释，包括变量名，但是$、`(后置引用)、和\除外。保留$作为特殊字符的意义是为了能够在双引号中也能够正常的引用变量，也就是说，这个变量将被它的值所取代。</p>

<p>使用双引号还能够阻止单词分割，如果一个参数被双引号扩起来的话，那么这个参数将认为是一个单元，即使这个参数包含有空白，那里面的单词也不会被分隔开。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">hello</span><span class="o">=</span><span class="s2">"A B  C   D"</span>
<span class="nb">echo</span> <span class="nv">$hello</span>                  <span class="c"># A B C D</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$hello</span><span class="s2">"</span>               <span class="c"># A B  C   D</span>
</code></pre>
</div>

<p>在echo语句中，只有在单词分割或者需要保留空白的时候，才需要把参数用双引号括起来。</p>

<p>谈到空白，我们可以通过IFS变量修改默认的空白符，例如：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nv">var</span><span class="o">=</span><span class="s2">"'(]</span><span class="se">\\</span><span class="s2">{}</span><span class="se">\$\"</span><span class="s2">"</span>

<span class="c"># 下面输出一样</span>
<span class="nb">echo</span> <span class="nv">$var</span>        <span class="c"># '(]\{}$"</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$var</span><span class="s2">"</span>      <span class="c"># '(]\{}$"</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s1">'\'</span>
<span class="c"># 下面输出不一样了，因为这里空白字符定义为\了，变量替换的时候，会将其替换为一个空格</span>
<span class="nb">echo</span> <span class="nv">$var</span>        <span class="c"># '(] {}$"     </span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$var</span><span class="s2">"</span>      <span class="c"># '(]\{}$"</span>
</code></pre>
</div>

<p>单引号操作与双引号基本一样，但是不允许引用变量，因为$的特殊意义被关闭了。在单引号中，任何特殊字符都按照字面的意思进行解释，除了’,所以说单引号是一种比双引号更严格的引用方法。</p>

<p>因为即使是转义符在单引号中也是按照字面意思解释的，所以如果想在一对单引号中显示一个单引号是不行的。对于下面的例子：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"Why can't I write 's between single quotes"</span>
</code></pre>
</div>

<p>使用单引号来引用，可以这样做:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'Why can'</span><span class="se">\'</span><span class="s1">'t I write '</span><span class="s2">"'"</span><span class="s1">'s between single quotes'</span>   <span class="c"># Why can't I write 's between single quotes</span>
</code></pre>
</div>

<p>三个被单引号引用的字符串，在这三个字符串之间有一个用转义符转义的单引号，和一个用双引号括起来的单引号。</p>

<h1 id="section-5">参考文章</h1>

<ul>
  <li><a href="http://blog.javachen.com/static/doc/abs-guide/html/index.html">高级Bash脚本编程指南-中文版</a></li>
</ul>

                    <br/>
                    <div class="well">
                        原创文章，转载请注明： 转载自<a href="http://blog.javachen.com">JavaChen Blog</a>，作者：<a href="http://blog.javachen.com/about.html">JavaChen</a><br/>
                        本文链接地址：<a href="/2015/07/07/bash-variable.html">http://blog.javachen.com/2015/07/07/bash-variable.html</a><br/>
                        本文基于<a target="_blank" title="Creative Commons Attribution 2.5 China Mainland License" href="http://creativecommons.org/licenses/by/2.5/cn/">署名2.5中国大陆许可协议</a>发布，欢迎转载、演绎或用于商业目的，但是必须保留本文署名和文章链接。
                        如您有任何疑问或者授权方面的协商，请邮件联系我</a>。
                    </div>
                    <div class="col-md-6">
                      <p class="text-success hidden-print"><i class="fa fa-external-link"></i> <a href="/2015/07/07/bash-variable.html">Bash中的变量</a></p>
                    </div>
                    <div class="col-md-6">
                       <p class="meta hidden-print pull-right">
                        
                            <i class="fa fa-folder-open"></i>
                            
                            <a class="btn btn-default btn-sm" href="/categories.html#devops">devops</a>
                          
                        
                        
                            <i class="fa fa-tags"></i>
                            
                            <a class="btn btn-default btn-sm" href="/tags.html#bash">bash</a>
                          
                        </p>
                    </div>
               </div><!--#post-text-->
          </div><!--#post-->
      </div> <!--#content-->

      <div id="post-comment" class="hidden-print">
      
<div id="comments">
  <div class="ds-thread" data-thread-key="/2015/07/07/bash-variable.html" data-url="http://blog.javachen.com/2015/07/07/bash-variable.html" data-title="Bash中的变量"></div>
</div>



      </div>


          </div>
          <a href="#" class="btn back-to-top btn-dark btn-fixed-bottom hidden-print"><i class="fa fa-chevron-up"></i></a>
      </div>
      <div id="footer">
          <div class="container hidden-print">
              <p class="text-center"><i class="fa fa-copyright"></i> 2016 JavaChen Blog. Theme designed by <a href="/about.html" target="_blank" title="JavaChen Blog
">JavaChen</a> with <a href="https://github.com/mojombo/jekyll/">Jekyll</a>, <a href="http://twitter.github.com/bootstrap/">Bootstrap</a> and <a href="http://fortawesome.github.com/Font-Awesome/">Font Awesome</a>.
  	            
                    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=52032901" charset="UTF-8"></script>
            

            
            <script>
              var _hmt = _hmt || [];
              (function() {
                var hm = document.createElement("script");
                hm.src = "//hm.baidu.com/hm.js?50bc6f5d9b045b5895ff44f8bbdbc611";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
              })();
            </script>
            
    </p>
          </div>
      </div>

      <script type="text/javascript" src="/static/contrib/jquery/jquery.min.js"></script>
      <script type="text/javascript" src="/static/contrib/bootstrap/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="/static/contrib/qrcode/jquery.qrcode.min.js"></script>
      <script type="text/javascript" src="/static/contrib/showup/showup.js"></script>
      <script type="text/javascript" src="/static/js/core.js"></script>
      
      <script type="text/javascript">
      var duoshuoQuery = {short_name:"javachen"};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = 'http://static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] ||
        document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
      

      <script type="text/javascript">
      $('#qr').qrcode({
          width: 128,
          height: 128,
          text: 'http://blog.javachen.com/2015/07/07/bash-variable.html'
      });
      </script>
  </body>
</html>
